var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([
/*!********************************!*\
  !*** ./IbanValidator/index.ts ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.init=function(t,e,i,n){var a;this._context=t,this._notifyOutputChanged=e,this._ibanValueChanged=this.ibanValueChanged.bind(this),this.getParams(),this._ibanValueElement=document.createElement("input"),this._ibanValueElement.setAttribute("type","text"),this._ibanValueElement.setAttribute("class","pcfinputcontrol"),this._ibanValueElement.addEventListener("change",this._ibanValueChanged),this._ibanValueElement.value=this._ibanValue,this._ibanValueElement.setAttribute("maxlength",null===(a=t.parameters.IbanValue.attributes)||void 0===a?void 0:a.MaxLength),t.mode.isControlDisabled&&this._ibanValueElement.setAttribute("disabled","disabled"),this._ibanValueValidationElement=document.createElement("img"),this._ibanValueValidationElement.setAttribute("class","pcfimagecontrol"),this._ibanValueValidationElement.setAttribute("hidden","hidden"),this._ibanValueValidationElement.setAttribute("height","24px"),n.appendChild(this._ibanValueElement),n.appendChild(this._ibanValueValidationElement),t.mode.isVisible||n.setAttribute("visibility","hidden"),this.ibanValueChanged(null)},t.prototype.updateView=function(t){this._ibanValueElement.value=this._ibanValue,t.mode.isControlDisabled&&this._ibanValueElement.setAttribute("disabled","disabled")},t.prototype.getOutputs=function(){return{IbanValue:this._ibanValue,IsValidIban:this._isValidIban}},t.prototype.destroy=function(){this._ibanValueElement.removeEventListener("change",this._ibanValueChanged)},t.prototype.getParams=function(){var t=this._context;this._ibanValue=t.parameters.IbanValue.raw,this._displayNotificationError=!(!t.parameters.DisplayNotificationError||!t.parameters.DisplayNotificationError.raw||"true"!==t.parameters.DisplayNotificationError.raw.toLowerCase()),this._displayNotificationErrorMessage=t.parameters.DisplayNotificationErrorMessage.raw,this._displayNotificationErrorUniqueId=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this._iconValid=null==this._context.parameters.IconValid?"":String(this._context.parameters.IconValid.raw),this._iconInvalid=null==this._context.parameters.IconInvalid?"":String(this._context.parameters.IconInvalid.raw)},t.prototype.generateImageSrcUrl=function(t,e){return"data:image/"+t+";base64,"+e},t.prototype.findAndSetImage=function(t){var e=this;t.startsWith("http")||t.startsWith("https")?this._ibanValueValidationElement.setAttribute("src",t):this._context.resources.getResource("img/"+t+".png",(function(t){e._ibanValueValidationElement.setAttribute("src",e.generateImageSrcUrl(".png",t))}),(function(){console.log("Error when downloading "+t+".png image.")}))},t.prototype.ibanValueChanged=function(t){if(this._ibanValue=this._ibanValueElement.value,this._isValidIban=this.isValidIBANNumber(this._ibanValue),this._ibanValueValidationElement.removeAttribute("hidden"),""!=this._ibanValue){this._displayNotificationError&&(this._isValidIban?this._context.utils.clearNotification(this._displayNotificationErrorUniqueId):this._context.utils.setNotification(this._displayNotificationErrorMessage,this._displayNotificationErrorUniqueId));var e="null"==this._iconValid||""==this._iconValid||null==this._iconValid?"IconValid":this._iconValid;this._isValidIban||(e="null"==this._iconValid||""==this._iconInvalid||null==this._iconValid?"IconInvalid":this._iconInvalid),this.findAndSetImage(e)}else this._context.utils.clearNotification(this._displayNotificationErrorUniqueId),this._ibanValueValidationElement.setAttribute("hidden","hidden");this._notifyOutputChanged()},t.prototype.isValidIBANNumber=function(t){var e,i,n=t.toUpperCase().replace(/[^A-Z0-9]/g,"");if(!(e=n.match(/^([A-Z]{2})(\d{2})([A-Z\d]+)$/))||n.length!=={AD:24,AE:23,AL:28,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,BY:28,CH:21,CR:21,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,ES:24,FI:18,FO:18,FR:27,GB:22,GE:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IS:26,IT:27,IQ:23,JO:30,KW:30,KZ:20,LB:28,LC:32,LI:21,LT:20,LU:20,LV:21,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SC:31,SE:24,SI:19,SK:24,SM:27,ST:25,SV:28,TL:23,TN:24,TR:26,UA:29,VA:22,VG:24,XK:20}[e[1]])return!1;var a=e[3]+e[1]+e[2];return i=this.letterCode(a),this.mod97(i)},t.prototype.letterCode=function(t){var e="";return t.split("").forEach((function(t){var i=t.charCodeAt(0);i>47&&i<58?e+=t:i>64&&i<91&&(e+=(t.charCodeAt(0)-65+10).toString())})),e},t.prototype.mod97=function(t){for(var e=0,i=0;i<t.length;i+=5){e=parseInt(e+""+t.substr(i,5))%97}return 1==e},t}();e.IbanValidator=n}]);
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('Carfup.IbanValidator', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.IbanValidator);
} else {
	var Carfup = Carfup || {};
	Carfup.IbanValidator = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.IbanValidator;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}