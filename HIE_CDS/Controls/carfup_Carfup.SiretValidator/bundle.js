var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([
/*!*********************************!*\
  !*** ./SiretValidator/index.ts ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){}return t.prototype.init=function(t,e,i,a){var n;this._context=t,this._notifyOutputChanged=e,this.getParams(),this._valueChanged=this.valueChanged.bind(this),this._valueElement=document.createElement("input"),this._valueElement.setAttribute("type","text"),this._valueElement.setAttribute("class","pcfinputcontrol"),this._valueElement.addEventListener("change",this._valueChanged),this._valueElement.value=this._value,this._valueElement.setAttribute("maxlength",null===(n=t.parameters.SiretValue.attributes)||void 0===n?void 0:n.MaxLength),this._valueValidationElement=document.createElement("img"),this._valueValidationElement.setAttribute("class","pcfimagecontrol"),this._valueValidationElement.setAttribute("hidden","hidden"),this._valueValidationElement.setAttribute("height","24px"),t.mode.isControlDisabled&&this._valueElement.setAttribute("disabled","disabled"),a.appendChild(this._valueElement),a.appendChild(this._valueValidationElement),t.mode.isVisible||a.setAttribute("visibility","hidden"),this.valueChanged(null)},t.prototype.updateView=function(t){this._valueElement.value=this._value,t.mode.isControlDisabled&&this._valueElement.setAttribute("disabled","disabled")},t.prototype.getOutputs=function(){return{SiretValue:this._value,IsValid:this._isValid}},t.prototype.destroy=function(){this._valueElement.removeEventListener("change",this._valueChanged)},t.prototype.getParams=function(){var t=this._context;this._value=t.parameters.SiretValue.raw,this._displayNotificationError=!(!t.parameters.DisplayNotificationError||!t.parameters.DisplayNotificationError.raw||"true"!==t.parameters.DisplayNotificationError.raw.toLowerCase()),this._displayNotificationErrorMessage=t.parameters.DisplayNotificationErrorMessage.raw,this._displayNotificationErrorUniqueId=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this._iconValid=null==this._context.parameters.IconValid?"":String(this._context.parameters.IconValid.raw),this._iconInvalid=null==this._context.parameters.IconInvalid?"":String(this._context.parameters.IconInvalid.raw)},t.prototype.generateImageSrcUrl=function(t,e){return"data:image/"+t+";base64,"+e},t.prototype.findAndSetImage=function(t){var e=this;t.startsWith("http")||t.startsWith("https")?this._valueValidationElement.setAttribute("src",t):this._context.resources.getResource("img/"+t+".png",(function(t){e._valueValidationElement.setAttribute("src",e.generateImageSrcUrl(".png",t))}),(function(){console.log("Error when downloading "+t+" image.")}))},t.prototype.valueChanged=function(t){this._value=this._valueElement.value,this._value=this._valueElement.value.toUpperCase().replace(/[^0-9]/g,""),this._valueElement.value=this._value;var e=!1;if(14!=this._value.length||isNaN(parseInt(this._value)))e=!1;else{for(var i,a=0,n=0;n<this._value.length;n++)n%2==0?(i=2*parseInt(this._value.charAt(n)))>9&&(i-=9):i=parseInt(this._value.charAt(n)),a+=i;e=a%10==0}if(this._isValid=e,""!=this._value){this._valueValidationElement.removeAttribute("hidden"),this._displayNotificationError&&(this._isValid?this._context.utils.clearNotification(this._displayNotificationErrorUniqueId):this._context.utils.setNotification(this._displayNotificationErrorMessage,this._displayNotificationErrorUniqueId));var r="null"==this._iconValid||""==this._iconValid||null==this._iconValid?"IconValid":this._iconValid;this._isValid||(r="null"==this._iconValid||""==this._iconInvalid||null==this._iconValid?"IconInvalid":this._iconInvalid),this.findAndSetImage(r)}else this._context.utils.clearNotification(this._displayNotificationErrorUniqueId),this._valueValidationElement.setAttribute("hidden","hidden");this._notifyOutputChanged()},t}();e.SiretValidator=a}]);
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('Carfup.SiretValidator', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.SiretValidator);
} else {
	var Carfup = Carfup || {};
	Carfup.SiretValidator = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.SiretValidator;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}