{"properties":{"connectionReferences":{"shared_commondataserviceforapps_1":{"runtimeSource":"embedded","connection":{"connectionReferenceLogicalName":"leidos_ConnLoan"},"api":{"name":"shared_commondataserviceforapps"}}},"definition":{"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"Recurrence":{"recurrence":{"frequency":"Minute","interval":5},"type":"Recurrence"}},"actions":{"List_Loans":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"ListRecords","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"leidos_loans","fetchXml":"<fetch version=\"1.0\" output-format=\"xml-platform\" mapping=\"logical\" distinct=\"false\">\n  <entity name=\"leidos_loan\">\n    <attribute name=\"statuscode\" />\n    <attribute name=\"leidos_loanreference\" />\n    <attribute name=\"leidos_interestdue\" />\n    <attribute name=\"leidos_dateofnextrepayment\" />\n    <attribute name=\"leidos_capitaloutstanding\" />\n    <attribute name=\"leidos_loanid\" />\n    <attribute name=\"leidos_project\" />\n    <attribute name=\"leidos_datewentintoarrears\" />\n    <order attribute=\"leidos_loanreference\" descending=\"false\" />\n    <filter type=\"and\">\n      <condition attribute=\"leidos_datewentintoarrears\" operator=\"olderthan-x-days\" value=\"10\" />\n      <condition attribute=\"statuscode\" operator=\"eq\" value=\"100000003\" />\n    </filter>\n    <link-entity name=\"leidos_project\" from=\"leidos_projectid\" to=\"leidos_project\" visible=\"false\" link-type=\"outer\" alias=\"proj\">\n      <attribute name=\"ownerid\" />\n    </link-entity>\n  </entity>\n</fetch>"},"authentication":"@parameters('$authentication')"}},"Compose":{"runAfter":{"List_Loans":["Succeeded"]},"type":"Compose","inputs":"length(outputs('List_Loans')?['body/value'])"},"Condition":{"actions":{},"runAfter":{"Compose":["Succeeded"]},"expression":{"greaterOrEquals":["@outputs('Compose')",1]},"type":"If"}},"outputs":{}}},"schemaVersion":"1.0.0.0"}