{"properties":{"connectionReferences":{"shared_commondataserviceforapps":{"runtimeSource":"embedded","connection":{},"api":{"name":"shared_commondataserviceforapps"}}},"definition":{"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"Client_Plan_Response_on_Update_of_Rating":{"type":"OpenApiConnectionWebhook","inputs":{"host":{"connectionName":"shared_commondataserviceforapps","operationId":"SubscribeWebhookTrigger","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"subscriptionRequest/message":3,"subscriptionRequest/entityname":"leidos_clientplanreviewresponse","subscriptionRequest/scope":4,"subscriptionRequest/filteringattributes":"leidos_ratingvalue,leidos_notapplicable"},"authentication":"@parameters('$authentication')"}}},"actions":{"Get_NULL_for_Category":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps","operationId":"ListRecords","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"leidos_clientplanreviewresponses","fetchXml":"<fetch version=\"1.0\" output-format=\"xml-platform\" mapping=\"logical\" distinct=\"false\">\n  <entity name=\"leidos_clientplanreviewresponse\">\n    <attribute name=\"leidos_clientplanreviewresponseid\" />\n    <filter type=\"and\">\n      <condition attribute=\"leidos_ratingvalue\" operator=\"null\" />\n      <condition attribute=\"leidos_notapplicable\" operator=\"ne\" value=\"1\" />\n    </filter>\n    <link-entity name=\"leidos_accountmanagementclientplan\" from=\"leidos_accountmanagementclientplanid\" to=\"leidos_parentclientplan\" link-type=\"inner\" alias=\"ae\">\n      <filter type=\"and\">\n        <condition attribute=\"leidos_accountmanagementclientplanid\" operator=\"eq\"  value=\"@{triggerOutputs()?['body/_leidos_parentclientplan_value']}\" />\n      </filter>\n    </link-entity>\n    <link-entity name=\"leidos_clientplanquestion\" from=\"leidos_clientplanquestionid\" to=\"leidos_question\" link-type=\"inner\" alias=\"af\">\n      <link-entity name=\"leidos_clientplanquestioncategory\" from=\"leidos_clientplanquestioncategoryid\" to=\"leidos_category\" link-type=\"inner\" alias=\"ag\">\n        <filter type=\"and\">\n          <condition attribute=\"leidos_clientplanquestioncategoryid\" operator=\"eq\"  value=\"@{triggerOutputs()?['body/_leidos_category_value']}\" />\n        </filter>\n      </link-entity>\n    </link-entity>\n  </entity>\n</fetch>"},"authentication":"@parameters('$authentication')"}},"Compose":{"runAfter":{"Get_NULL_for_Category":["Succeeded"]},"type":"Compose","inputs":"@length(outputs('Get_NULL_for_Category')?['body/value'])"}},"outputs":{}}},"schemaVersion":"1.0.0.0"}