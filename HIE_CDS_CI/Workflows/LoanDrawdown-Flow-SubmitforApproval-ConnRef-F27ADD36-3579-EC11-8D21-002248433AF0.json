{"properties":{"connectionReferences":{"shared_commondataserviceforapps_1":{"runtimeSource":"embedded","connection":{"connectionReferenceLogicalName":"leidos_ConnCDSLoanDrawdown"},"api":{"name":"shared_commondataserviceforapps"}}},"definition":{"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"When_a_Loan_Drawdown_is_updated":{"metadata":{"operationMetadataId":"a2a54a1e-53ff-486d-bcb1-3ab1b796bab0"},"type":"OpenApiConnectionWebhook","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"SubscribeWebhookTrigger","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"subscriptionRequest/message":3,"subscriptionRequest/entityname":"leidos_loandrawdown","subscriptionRequest/scope":4,"subscriptionRequest/filteringattributes":"leidos_submitdrawdownforapproval","subscriptionRequest/filterexpression":"leidos_submitdrawdownforapproval eq true","subscriptionRequest/runas":3},"authentication":"@parameters('$authentication')"}}},"actions":{"Scope_-_Get_Process_Data":{"actions":{"Get_Delegated_Authority":{"runAfter":{},"metadata":{"operationMetadataId":"9da89769-a758-4326-9e34-fd272182cbef"},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"GetItem","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"systemusers","recordId":"@triggerOutputs()?['body/_leidos_drawdownapprover_value']"},"authentication":"@parameters('$authentication')"}},"Get_Requested_By":{"runAfter":{"Get_Delegated_Authority":["Succeeded"]},"metadata":{"operationMetadataId":"d81adbff-d976-45b0-82e9-6ca93d560d22"},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"GetItem","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"systemusers","recordId":"@triggerOutputs()?['body/_leidos_submittedby_value']"},"authentication":"@parameters('$authentication')"}},"Run_a_Child_Flow":{"runAfter":{"Get_Requested_By":["Succeeded"]},"metadata":{"operationMetadataId":"270cfcd7-3592-4e79-b57b-4bd52f7a4e7e"},"type":"Workflow","inputs":{"host":{"workflowReferenceName":"b0db1a8a-c449-ea11-a812-000d3a0ba151"},"body":{"EntityId_Inputs":"@triggerOutputs()?['body/leidos_loandrawdownid']","EntityType_Value":"leidos_loandrawdown"}}},"Get_Project":{"runAfter":{"Get_Loan":["Succeeded"]},"metadata":{"operationMetadataId":"b46ecad6-31cb-4797-b1a4-a970089bb77d"},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"GetItem","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"leidos_projects","recordId":"@outputs('Get_Loan')?['body/_leidos_project_value']"},"authentication":"@parameters('$authentication')"}},"Get_Loan":{"runAfter":{"Run_a_Child_Flow":["Succeeded"]},"metadata":{"operationMetadataId":"f1b0dc2a-0027-45d5-9e57-6ac857d91910"},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"GetItem","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"leidos_loans","recordId":"@triggerOutputs()?['body/_leidos_loan_value']"},"authentication":"@parameters('$authentication')"}},"Get_Account":{"runAfter":{"Get_Project":["Succeeded"]},"metadata":{"operationMetadataId":"2aa6454f-d0af-47d2-a958-4a19b9e275ef"},"type":"OpenApiConnection","inputs":{"host":{"connectionName":"shared_commondataserviceforapps_1","operationId":"GetItem","apiId":"/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"},"parameters":{"entityName":"accounts","recordId":"@outputs('Get_Project')?['body/_leidos_parentaccount_value']"},"authentication":"@parameters('$authentication')"}}},"runAfter":{},"metadata":{"operationMetadataId":"742fbc9e-399f-44f3-8916-726e36a2c8ce"},"type":"Scope"}}}},"schemaVersion":"1.0.0.0"}